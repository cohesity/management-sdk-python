# -*- coding: utf-8 -*-
# Copyright 2020 Cohesity Inc.

import cohesity_management_sdk.models.alert_document
import cohesity_management_sdk.models.alert_property
import cohesity_management_sdk.models.alert_resolution_details

class Alert(object):

    """Implementation of the 'Alert' model.

    Specifies information about an Alert such as the type, id assigned by
    the Cohesity Cluster, number of duplicates, severity, etc.

    Attributes:
        alert_category (AlertCategoryEnum): Specifies the category of an
            Alert. kDisk - Alerts that are related to Disk. kNode - Alerts
            that are related to Node. kCluster - Alerts that are related to
            Cluster. kNodeHealth - Alerts that are related to Node Health.
            kClusterHealth - Alerts that are related to Cluster Health.
            kBackupRestore - Alerts that are related to Backup/Restore.
            kEncryption - Alerts that are related to Encryption.
            kArchivalRestore - Alerts that are related to Archival/Restore.
            kRemoteReplication - Alerts that are related to Remote
            Replication. kQuota - Alerts that are related to Quota. kLicense -
            Alerts that are related to License. kHeliosProActiveWellness -
            Alerts that are related to Helios ProActive Wellness.
            kHeliosAnalyticsJobs - Alerts that are related to Helios Analytics
            Jobs. kHeliosSignatureJobs - Alerts that are related to Helios
            Signature Jobs. kSecurity - Alerts that are related to Security.
        alert_code (string): Specifies a unique code that categorizes the
            Alert, for example: CE00200014, where CE stands for Cohesity
            Error, the alert state next 3 digits is the id of the Alert
            Category (e.g. 002 for 'kNode') and the last 5 digits is the id of
            the Alert Type (e.g. 00014 for 'kNodeHighCpuUsage').
        alert_document (AlertDocument): Specifies documentation about the
            Alert such as name, description, cause and how to resolve the
            Alert.
        alert_state (AlertStateEnum): Specifies the current state of the
            Alert. kAlertOpen - Alerts that are unresolved. kAlertResolved -
            Alerts that are already marked as resolved. kAlertSuppressed -
            Alerts that are suppressed due to snooze settings.
        alert_type (int): Specifies a 5 digit unique digital id for the Alert
            Type, such as 00014 for 'kNodeHighCpuUsage'. This id is used in
            alertCode.
        cluster_id (long|int): Specifies id of the cluster where the alert was
            raised.
        cluster_name (string): Specifies name of the cluster where the alert
            was raised.
        dedup_count (int): Specifies total count of duplicated Alerts even if
            there are more than 25 occurrences.
        dedup_timestamps (list of long|int): Specifies Unix epoch Timestamps
            (in microseconds) for the last 25 occurrences of duplicated Alerts
            that are stored with the original/primary Alert. Alerts are
            grouped into one Alert if the Alerts are the same type, are
            reporting on the same Object and occur within one hour.
            'dedupCount' always reports the total count of duplicated Alerts
            even if there are more than 25 occurrences. For example, if there
            are 100 occurrences of this Alert, dedupTimestamps stores the
            timestamps of the last 25 occurrences and dedupCount equals 100.
        event_source (string): Specifies source where the event occurred.
        first_timestamp_usecs (long|int): Specifies Unix epoch Timestamp (in
            microseconds) of the first occurrence of the Alert.
        id (string): Specifies unique id of this Alert.
        latest_timestamp_usecs (long|int): Specifies Unix epoch Timestamp (in
            microseconds) of the most recent occurrence of the Alert.
        property_list (list of AlertProperty): Specifies array of key-value
            pairs associated with the Alert. The Cohesity Cluster may
            autogenerate properties depending on the Alert type. This list
            includes both autogenerated and specified properties.
        resolution_details (AlertResolutionDetails): Specifies information
            about the Alert Resolution such as a summary, id assigned by the
            Cohesity Cluster, user who resolved the Alerts, etc.
        severity (SeverityEnum): Specifies the severity level of an Alert.
            kCritical - Alerts whose severity type is Critical. kWarning -
            Alerts whose severity type is Warning. kInfo - Alerts whose
            severity type is Info.
        suppression_id (long|int): Specifies unique id generated when the
            Alert is suppressed by the admin.
        tenant_ids (list of string): Specifies the tenants for which this
            alert has been raised.

    """

    # Create a mapping from Model property names to API property names
    _names = {
        "alert_category":'alertCategory',
        "alert_code":'alertCode',
        "alert_document":'alertDocument',
        "alert_state":'alertState',
        "alert_type":'alertType',
        "cluster_id":'clusterId',
        "cluster_name":'clusterName',
        "dedup_count":'dedupCount',
        "dedup_timestamps":'dedupTimestamps',
        "event_source":'eventSource',
        "first_timestamp_usecs":'firstTimestampUsecs',
        "id":'id',
        "latest_timestamp_usecs":'latestTimestampUsecs',
        "property_list":'propertyList',
        "resolution_details":'resolutionDetails',
        "severity":'severity',
        "suppression_id":'suppressionId',
        "tenant_ids":'tenantIds'
    }

    def __init__(self,
                 alert_category=None,
                 alert_code=None,
                 alert_document=None,
                 alert_state=None,
                 alert_type=None,
                 cluster_id=None,
                 cluster_name=None,
                 dedup_count=None,
                 dedup_timestamps=None,
                 event_source=None,
                 first_timestamp_usecs=None,
                 id=None,
                 latest_timestamp_usecs=None,
                 property_list=None,
                 resolution_details=None,
                 severity=None,
                 suppression_id=None,
                 tenant_ids=None):
        """Constructor for the Alert class"""

        # Initialize members of the class
        self.alert_category = alert_category
        self.alert_code = alert_code
        self.alert_document = alert_document
        self.alert_state = alert_state
        self.alert_type = alert_type
        self.cluster_id = cluster_id
        self.cluster_name = cluster_name
        self.dedup_count = dedup_count
        self.dedup_timestamps = dedup_timestamps
        self.event_source = event_source
        self.first_timestamp_usecs = first_timestamp_usecs
        self.id = id
        self.latest_timestamp_usecs = latest_timestamp_usecs
        self.property_list = property_list
        self.resolution_details = resolution_details
        self.severity = severity
        self.suppression_id = suppression_id
        self.tenant_ids = tenant_ids


    @classmethod
    def from_dictionary(cls,
                        dictionary):
        """Creates an instance of this model from a dictionary

        Args:
            dictionary (dictionary): A dictionary representation of the object as
            obtained from the deserialization of the server's response. The keys
            MUST match property names in the API description.

        Returns:
            object: An instance of this structure class.

        """
        if dictionary is None:
            return None

        # Extract variables from the dictionary
        alert_category = dictionary.get('alertCategory')
        alert_code = dictionary.get('alertCode')
        alert_document = cohesity_management_sdk.models.alert_document.AlertDocument.from_dictionary(dictionary.get('alertDocument')) if dictionary.get('alertDocument') else None
        alert_state = dictionary.get('alertState')
        alert_type = dictionary.get('alertType')
        cluster_id = dictionary.get('clusterId')
        cluster_name = dictionary.get('clusterName')
        dedup_count = dictionary.get('dedupCount')
        dedup_timestamps = dictionary.get('dedupTimestamps')
        event_source = dictionary.get('eventSource')
        first_timestamp_usecs = dictionary.get('firstTimestampUsecs')
        id = dictionary.get('id')
        latest_timestamp_usecs = dictionary.get('latestTimestampUsecs')
        property_list = None
        if dictionary.get('propertyList') != None:
            property_list = list()
            for structure in dictionary.get('propertyList'):
                property_list.append(cohesity_management_sdk.models.alert_property.AlertProperty.from_dictionary(structure))
        resolution_details = cohesity_management_sdk.models.alert_resolution_details.AlertResolutionDetails.from_dictionary(dictionary.get('resolutionDetails')) if dictionary.get('resolutionDetails') else None
        severity = dictionary.get('severity')
        suppression_id = dictionary.get('suppressionId')
        tenant_ids = dictionary.get('tenantIds')

        # Return an object of this model
        return cls(alert_category,
                   alert_code,
                   alert_document,
                   alert_state,
                   alert_type,
                   cluster_id,
                   cluster_name,
                   dedup_count,
                   dedup_timestamps,
                   event_source,
                   first_timestamp_usecs,
                   id,
                   latest_timestamp_usecs,
                   property_list,
                   resolution_details,
                   severity,
                   suppression_id,
                   tenant_ids)


